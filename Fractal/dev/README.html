<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>2D-Weierstrass Function Visualization Toolkit</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="2d-weierstrass-function-visualization-toolkit">2D-Weierstrass Function Visualization Toolkit</h1>
<p><img src="file:////Users/ralf/Projects/Python/Weierstrass/Fractal/dev/overview.png" alt="Weierstrass Fractal"></p>
<h2 id="-overview">üìå Overview</h2>
<p>This interactive Python tool visualizes the <strong>2D Weierstrass function</strong>‚Äîa fascinating extension of the classic 1D function known for being <strong>continuous everywhere but differentiable nowhere</strong>. The application provides multiple perspectives on this mathematical curiosity, including:</p>
<ol>
<li>Raw function visualization (2D and 1D)</li>
<li>Density distribution mapping (2D)</li>
<li>Frequency spectrum analysis (FFT for both 2D and 1D)</li>
<li>Fractal dimension calculation (2D)</li>
</ol>
<hr>
<h2 id="-key-features">üöÄ Key Features</h2>
<ul>
<li><strong>Interactive controls</strong> for parameters <code>a</code> (amplitude decay) and <code>b</code> (frequency scaling)</li>
<li><strong>Multiple visualization modes</strong>:
<ul>
<li>Raw function values (2D and 1D)</li>
<li>Value density distribution (2D)</li>
<li>Fast Fourier Transform (FFT) spectrum (2D and 1D)</li>
</ul>
</li>
<li><strong>Box-counting dimension</strong> calculation for fractal analysis</li>
<li><strong>Real-time updates</strong> via Numba-accelerated computation</li>
<li><strong>Visual heuristic</strong> indicating when fractal behavior emerges (a¬∑b ‚â• 1)</li>
</ul>
<hr>
<h2 id="-mathematical-foundation">üìê Mathematical Foundation</h2>
<p>The 2D Weierstrass function is defined as:</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mstyle mathsize="2.488em"><mi>W</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>‚àë</mo><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><mi>N</mi></munderover><msup><mi>a</mi><mi>n</mi></msup><mo>‚ãÖ</mo><mi>cos</mi><mo>‚Å°</mo><mo stretchy="false">(</mo><mi>œÄ</mi><msup><mi>b</mi><mi>n</mi></msup><mi>x</mi><mo stretchy="false">)</mo><mo>‚ãÖ</mo><mi>cos</mi><mo>‚Å°</mo><mo stretchy="false">(</mo><mi>œÄ</mi><msup><mi>b</mi><mi>n</mi></msup><mi>y</mi><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">\Huge
W(x, y) = \sum_{n=0}^{N} a^n \cdot \cos(\pi b^n x) \cdot \cos(\pi b^n y)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.488em;vertical-align:-0.622em;"></span><span class="mord mathnormal sizing reset-size6 size11" style="margin-right:0.13889em;">W</span><span class="mopen sizing reset-size6 size11">(</span><span class="mord mathnormal sizing reset-size6 size11">x</span><span class="mpunct sizing reset-size6 size11">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal sizing reset-size6 size11" style="margin-right:0.03588em;">y</span><span class="mclose sizing reset-size6 size11">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel sizing reset-size6 size11">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:8.1428em;vertical-align:-3.3668em;"></span><span class="mop op-limits sizing reset-size6 size11"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9196em;"><span style="top:-3.2348em;margin-left:0em;"><span class="pstrut" style="height:4.488em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-4.488em;"><span class="pstrut" style="height:4.488em;"></span><span><span class="mop op-symbol large-op">‚àë</span></span></span><span style="top:-5.738em;margin-left:0em;"><span class="pstrut" style="height:4.488em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:1.3532em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sizing reset-size6 size11"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7719em;"><span style="top:-4.487em;margin-right:0.0201em;"><span class="pstrut" style="height:4.074em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin sizing reset-size6 size11">‚ãÖ</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.5425em;vertical-align:-0.622em;"></span><span class="mop sizing reset-size6 size11">cos</span><span class="mopen sizing reset-size6 size11">(</span><span class="mord mathnormal sizing reset-size6 size11" style="margin-right:0.03588em;">œÄ</span><span class="mord sizing reset-size6 size11"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7719em;"><span style="top:-4.487em;margin-right:0.0201em;"><span class="pstrut" style="height:4.074em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord mathnormal sizing reset-size6 size11">x</span><span class="mclose sizing reset-size6 size11">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin sizing reset-size6 size11">‚ãÖ</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.5425em;vertical-align:-0.622em;"></span><span class="mop sizing reset-size6 size11">cos</span><span class="mopen sizing reset-size6 size11">(</span><span class="mord mathnormal sizing reset-size6 size11" style="margin-right:0.03588em;">œÄ</span><span class="mord sizing reset-size6 size11"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7719em;"><span style="top:-4.487em;margin-right:0.0201em;"><span class="pstrut" style="height:4.074em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord mathnormal sizing reset-size6 size11" style="margin-right:0.03588em;">y</span><span class="mclose sizing reset-size6 size11">)</span></span></span></span></span></p>
<p>Where:</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>‚àà</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a \in (0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> controls <strong>amplitude decay</strong></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>‚àà</mo><mo stretchy="false">{</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>7</mn><mo separator="true">,</mo><mo>‚Ä¶</mo><mtext>‚Äâ</mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">b \in \{3, 5, 7, \dots\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">‚àà</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">‚Ä¶</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span></span></span></span> (odd integers) controls <strong>frequency growth</strong></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">N = 20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">20</span></span></span></span> is the number of terms used for approximation</li>
</ul>
<p>The 1D slice, typically taken at <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>, simplifies to:</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mstyle mathsize="2.488em"><mi>W</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>‚àë</mo><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><mi>N</mi></munderover><msup><mi>a</mi><mi>n</mi></msup><mo>‚ãÖ</mo><mi>cos</mi><mo>‚Å°</mo><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>‚ãÖ</mo><mi>cos</mi><mo>‚Å°</mo><mo stretchy="false">(</mo><mi>œÄ</mi><msup><mi>b</mi><mi>n</mi></msup><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>‚àë</mo><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><mi>N</mi></munderover><msup><mi>a</mi><mi>n</mi></msup><mo>‚ãÖ</mo><mi>cos</mi><mo>‚Å°</mo><mo stretchy="false">(</mo><mi>œÄ</mi><msup><mi>b</mi><mi>n</mi></msup><mi>y</mi><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">\Huge
W(0, y) = \sum_{n=0}^{N} a^n \cdot \cos(0) \cdot \cos(\pi b^n y) = \sum_{n=0}^{N} a^n \cdot \cos(\pi b^n y)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.488em;vertical-align:-0.622em;"></span><span class="mord mathnormal sizing reset-size6 size11" style="margin-right:0.13889em;">W</span><span class="mopen sizing reset-size6 size11">(</span><span class="mord sizing reset-size6 size11">0</span><span class="mpunct sizing reset-size6 size11">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal sizing reset-size6 size11" style="margin-right:0.03588em;">y</span><span class="mclose sizing reset-size6 size11">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel sizing reset-size6 size11">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:8.1428em;vertical-align:-3.3668em;"></span><span class="mop op-limits sizing reset-size6 size11"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9196em;"><span style="top:-3.2348em;margin-left:0em;"><span class="pstrut" style="height:4.488em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-4.488em;"><span class="pstrut" style="height:4.488em;"></span><span><span class="mop op-symbol large-op">‚àë</span></span></span><span style="top:-5.738em;margin-left:0em;"><span class="pstrut" style="height:4.488em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:1.3532em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sizing reset-size6 size11"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7719em;"><span style="top:-4.487em;margin-right:0.0201em;"><span class="pstrut" style="height:4.074em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin sizing reset-size6 size11">‚ãÖ</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.488em;vertical-align:-0.622em;"></span><span class="mop sizing reset-size6 size11">cos</span><span class="mopen sizing reset-size6 size11">(</span><span class="mord sizing reset-size6 size11">0</span><span class="mclose sizing reset-size6 size11">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin sizing reset-size6 size11">‚ãÖ</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.5425em;vertical-align:-0.622em;"></span><span class="mop sizing reset-size6 size11">cos</span><span class="mopen sizing reset-size6 size11">(</span><span class="mord mathnormal sizing reset-size6 size11" style="margin-right:0.03588em;">œÄ</span><span class="mord sizing reset-size6 size11"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7719em;"><span style="top:-4.487em;margin-right:0.0201em;"><span class="pstrut" style="height:4.074em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord mathnormal sizing reset-size6 size11" style="margin-right:0.03588em;">y</span><span class="mclose sizing reset-size6 size11">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel sizing reset-size6 size11">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:8.1428em;vertical-align:-3.3668em;"></span><span class="mop op-limits sizing reset-size6 size11"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9196em;"><span style="top:-3.2348em;margin-left:0em;"><span class="pstrut" style="height:4.488em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-4.488em;"><span class="pstrut" style="height:4.488em;"></span><span><span class="mop op-symbol large-op">‚àë</span></span></span><span style="top:-5.738em;margin-left:0em;"><span class="pstrut" style="height:4.488em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:1.3532em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sizing reset-size6 size11"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7719em;"><span style="top:-4.487em;margin-right:0.0201em;"><span class="pstrut" style="height:4.074em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin sizing reset-size6 size11">‚ãÖ</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.5425em;vertical-align:-0.622em;"></span><span class="mop sizing reset-size6 size11">cos</span><span class="mopen sizing reset-size6 size11">(</span><span class="mord mathnormal sizing reset-size6 size11" style="margin-right:0.03588em;">œÄ</span><span class="mord sizing reset-size6 size11"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7719em;"><span style="top:-4.487em;margin-right:0.0201em;"><span class="pstrut" style="height:4.074em;"></span><span class="sizing reset-size11 size10 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord mathnormal sizing reset-size6 size11" style="margin-right:0.03588em;">y</span><span class="mclose sizing reset-size6 size11">)</span></span></span></span></span></p>
<p>This highlights that the 1D function is a sum of cosine waves with geometrically increasing frequencies and exponentially decreasing amplitudes.</p>
<hr>
<h2 id="-visualization-modes">üîç Visualization Modes</h2>
<h3 id="2d-visualizations">2D Visualizations</h3>
<p>These modes apply to the full 2D function surface.</p>
<h4 id="1-raw-function-values">1. Raw Function Values</h4>
<p><img src="file:////Users/ralf/Projects/Python/Weierstrass/Fractal/dev/raw_view.png" alt="Raw View"></p>
<ul>
<li><strong>X/Y Axes</strong>: Spatial coordinates in [-1, 1] range</li>
<li><strong>Color</strong>: Normalized function value (blue = negative, red = positive)</li>
<li><strong>Title</strong>: &quot;Normalized 2D Weierstrass Function&quot;</li>
<li>Shows actual output of the mathematical function</li>
</ul>
<h4 id="2-density-approximation">2. Density Approximation</h4>
<p><img src="file:////Users/ralf/Projects/Python/Weierstrass/Fractal/dev/density_view.png" alt="Density View"></p>
<ul>
<li><strong>X/Y Axes</strong>: Spatial coordinates in [-1, 1] range</li>
<li><strong>Color</strong>: Probability density of values</li>
<li><strong>Title</strong>: &quot;Value Probability Density&quot;</li>
<li>Reveals value distribution independent of location</li>
</ul>
<h4 id="3-fft-spectrum-2d">3. FFT Spectrum (2D)</h4>
<p><img src="file:////Users/ralf/Projects/Python/Weierstrass/Fractal/dev/fft_view.png" alt="FFT View"></p>
<ul>
<li><strong>X/Y Axes</strong>: Angular frequency (rad/sample)</li>
<li><strong>Color</strong>: Log-magnitude (dB scale)</li>
<li><strong>Title</strong>: &quot;Frequency Spectrum&quot;</li>
<li>Shows dominant spatial frequencies and orientations present in the 2D surface. For the Weierstrass function, you'll observe energy concentrated along axes and diagonals, reflecting its separable cosine components.</li>
</ul>
<h3 id="1d-visualization">1D Visualization</h3>
<p>This section focuses on a 1D slice of the Weierstrass function (specifically, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>) and its frequency content.</p>
<h4 id="1-1d-weierstrass-function-x0">1. 1D Weierstrass Function (x=0)</h4>
<p><img src="file:////Users/ralf/Projects/Python/Weierstrass/Fractal/dev/1d_weierstrass_view.png" alt="1D Weierstrass Function (Example image needed)"></p>
<ul>
<li><strong>X-axis</strong>: Spatial coordinate <code>y</code></li>
<li><strong>Y-axis</strong>: Normalized function value <code>W(0, y)</code></li>
<li><strong>Title</strong>: &quot;1D Weierstrass Function (x=0)&quot;</li>
<li>Displays a cross-section of the 2D surface, revealing the intricate, non-differentiable oscillations characteristic of the function. This plot directly shows the summation of cosine waves at various frequencies.</li>
</ul>
<h4 id="2-fft-of-1d-weierstrass-function-stem-plot">2. FFT of 1D Weierstrass Function (Stem Plot)</h4>
<ul>
<li><strong>X-axis</strong>: <strong>Frequency (cycles/sample)</strong>
<ul>
<li>This axis represents the spatial frequencies present in the 1D function. &quot;Cycles/sample&quot; indicates how many complete cycles of a wave occur within the span of one discrete data point (sample) in the <code>y</code> dimension.</li>
<li>For a digitally sampled signal, the frequency is often normalized to the sampling rate. A value of 0.5 cycles/sample is the Nyquist frequency, representing the highest frequency that can be uniquely resolved.</li>
</ul>
</li>
<li><strong>Y-axis</strong>: <strong>Magnitude (log scale)</strong>
<ul>
<li>This shows the <strong>amplitude</strong> or <strong>strength</strong> of each frequency component. A logarithmic scale is used to better visualize the wide range of magnitudes.</li>
</ul>
</li>
<li><strong>Plot Type</strong>: <strong>Stem Plot</strong>
<ul>
<li>A stem plot is ideal here because the FFT of the Weierstrass function yields <strong>discrete, distinct frequency components</strong>. Each &quot;stem&quot; corresponds to one of the cosine terms in the sum <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mi>n</mi></msup><mo>‚ãÖ</mo><mi>cos</mi><mo>‚Å°</mo><mo stretchy="false">(</mo><mi>œÄ</mi><msup><mi>b</mi><mi>n</mi></msup><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a^n \cdot \cos(\pi b^n y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">‚ãÖ</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">œÄ</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>.</li>
</ul>
</li>
<li><strong>Interpretation</strong>:
<ul>
<li>You will observe <strong>distinct stems (peaks)</strong> at frequencies corresponding to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>œÄ</mi><mo separator="true">,</mo><mi>b</mi><mi>œÄ</mi><mo separator="true">,</mo><msup><mi>b</mi><mn>2</mn></msup><mi>œÄ</mi><mo separator="true">,</mo><mo>‚Ä¶</mo><mo separator="true">,</mo><msup><mi>b</mi><mrow><mi>N</mi><mo>‚àí</mo><mn>1</mn></mrow></msup><mi>œÄ</mi></mrow><annotation encoding="application/x-tex">\pi, b\pi, b^2\pi, \ldots, b^{N-1}\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0358em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">œÄ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">bœÄ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">œÄ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">‚Ä¶</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">‚àí</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">œÄ</span></span></span></span> (transformed into cycles/sample units by the FFT). These are the fundamental frequencies and their harmonics that build the Weierstrass function.</li>
<li>The <strong>heights of these stems will progressively decrease</strong> as frequency increases. This directly reflects the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">a^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> term in the Weierstrass definition, where higher frequencies have smaller amplitudes, contributing to the function's fine, self-similar details.</li>
<li>The presence of these clearly defined, geometrically spaced peaks, with amplitudes that diminish exponentially, is a hallmark of the Weierstrass function's construction and its multi-frequency nature.</li>
</ul>
</li>
</ul>
<h3 id="fractal-dimension-calculation">Fractal Dimension Calculation</h3>
<h4 id="4-box-counting-dimension-2d">4. Box-Counting Dimension (2D)</h4>
<p><img src="file:////Users/ralf/Projects/Python/Weierstrass/Fractal/dev/fractal_dimension.png" alt="Fractal Dimension View"></p>
<ul>
<li>Calculates fractal dimension using box-counting method on the 2D surface.</li>
<li>Requires <code>a¬∑b ‚â• 1</code> (fractal condition for the 1D Weierstrass function; this condition is extended heuristically to 2D in this visualization).</li>
<li>Displayed in a dedicated box when calculated, turning green if the condition is met and calculation is possible.</li>
</ul>
<hr>
<h2 id="Ô∏è-technical-implementation">‚öôÔ∏è Technical Implementation</h2>
<h3 id="optimized-computation">Optimized Computation</h3>
<pre><code class="language-python"><span class="hljs-meta">@njit</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">compute_weierstrass_2d_precomputed</span>(<span class="hljs-params">X, Y, a_powers, b_freqs</span>):
    W = np.zeros_like(X)
    <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(a_powers)):
        W += a_powers[n] * np.cos(b_freqs[n] * X) * np.cos(b_freqs[n] * Y)
    <span class="hljs-keyword">return</span> W

<span class="hljs-meta">@njit</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">compute_weierstrass_1d</span>(<span class="hljs-params">y, a_powers, b_freqs</span>):
    total = np.zeros_like(y)
    <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(a_powers)):
        total += a_powers[n] * np.cos(b_freqs[n] * y)
    <span class="hljs-keyword">return</span> total
</code></pre>
<ul>
<li>Uses Numba JIT compilation for 100x speedup.</li>
<li><code>compute_weierstrass_1d</code> is used for the 1D plot and its FFT.</li>
<li>Precomputes power series for efficiency.</li>
</ul>
<h3 id="box-counting-algorithm">Box-Counting Algorithm</h3>
<pre><code class="language-python"><span class="hljs-meta">@njit</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">box_counting_dimension</span>(<span class="hljs-params">Z, epsilons</span>):
    <span class="hljs-comment"># Normalize Z to [0,1]</span>
    <span class="hljs-comment"># Create 3D grid (x, y, value)</span>
    <span class="hljs-comment"># Count occupied boxes at different scales</span>
    <span class="hljs-comment"># Calculate dimension via log-log regression</span>
</code></pre>
<ul>
<li>Operates in normalized value space.</li>
<li>Uses linear regression on log-scale data.</li>
</ul>
<h3 id="fft-analysis">FFT Analysis</h3>
<pre><code class="language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">compute_fft</span>(<span class="hljs-params">Z</span>): <span class="hljs-comment"># For 2D FFT</span>
    fft_Z = np.fft.fft2(Z)
    fft_shifted = np.fft.fftshift(fft_Z)
    <span class="hljs-keyword">return</span> np.log10(np.<span class="hljs-built_in">abs</span>(fft_shifted) + <span class="hljs-number">1e-10</span>)
</code></pre>
<ul>
<li><code>np.fft.fft2</code> computes the 2D Fourier transform.</li>
<li><code>np.fft.fft</code> computes the 1D Fourier transform (used for the 1D FFT plot).</li>
<li>Shifts zero-frequency to center (for 2D) or provides appropriate frequency bins (for 1D).</li>
<li>Applies logarithmic scaling for better visualization of magnitude.</li>
</ul>
<hr>
<h2 id="-visualization-legend">üìä Visualization Legend</h2>
<table>
<thead>
<tr>
<th>Element</th>
<th>Raw View (2D)</th>
<th>Density View (2D)</th>
<th>FFT View (2D)</th>
<th>1D Plot (x=0)</th>
<th>1D FFT (Stem)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>X-axis</strong></td>
<td>X Coordinate</td>
<td>X Coordinate</td>
<td>œâ_x (rad/sample)</td>
<td>Y Coordinate</td>
<td>Freq (cycles/sample)</td>
</tr>
<tr>
<td><strong>Y-axis</strong></td>
<td>Y Coordinate</td>
<td>Y Coordinate</td>
<td>œâ_y (rad/sample)</td>
<td>W(0,y) Value</td>
<td>Magnitude (log)</td>
</tr>
<tr>
<td><strong>Color/Lines</strong></td>
<td>Function value</td>
<td>Probability</td>
<td>Log-magnitude (dB)</td>
<td>Blue line</td>
<td>Red stems</td>
</tr>
<tr>
<td><strong>Range (X/Y)</strong></td>
<td>[-1, 1]</td>
<td>[-1, 1]</td>
<td>[-œÄ, œÄ] rad/sample</td>
<td>[-1, 1]</td>
<td>[0, max Freq]</td>
</tr>
<tr>
<td><strong>Aspect Ratio</strong></td>
<td>1:1</td>
<td>1:1</td>
<td>1:1</td>
<td>N/A</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="-key-clarifications">üîë Key Clarifications</h2>
<ol>
<li>
<p><strong>Two distinct &quot;frequency&quot; concepts:</strong></p>
<ul>
<li><strong>Parameter <code>b</code></strong>: Controls the scaling of frequencies in the <em>mathematical definition</em> of the Weierstrass function itself (e.g., <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>œÄ</mi><mo separator="true">,</mo><mi>b</mi><mi>œÄ</mi><mo separator="true">,</mo><msup><mi>b</mi><mn>2</mn></msup><mi>œÄ</mi></mrow><annotation encoding="application/x-tex">\pi, b\pi, b^2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">œÄ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">bœÄ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">œÄ</span></span></span></span>).</li>
<li><strong>FFT analysis</strong>: Measures the spatial frequencies present in the <em>visual output</em> of the rendered function.</li>
<li>These are intrinsically related but represent different stages of understanding: one is a <em>design parameter</em>, the other is a <em>measured property</em> of the result.</li>
</ul>
</li>
<li>
<p><strong>Density vs FFT:</strong></p>
<ul>
<li><strong>Density</strong> (2D) shows the <strong>frequency of occurrence of function values</strong> (e.g., how often does the function output a value of 0.5 vs. 0.1?).</li>
<li><strong>FFT</strong> (2D and 1D) shows the <strong>frequency of spatial patterns or oscillations</strong> (e.g., how often does a specific pattern of peaks and valleys repeat across the surface or along the 1D line?).</li>
</ul>
</li>
<li>
<p><strong>Practical interpretation:</strong></p>
<ul>
<li>Higher <code>b</code> ‚Üí More fine details in the function ‚Üí More energy at higher frequencies in the FFT.</li>
<li>Higher <code>a</code> ‚Üí Sharper contrasts and more pronounced oscillations ‚Üí Wider value distribution and potentially more high-frequency energy.</li>
<li><code>a¬∑b ‚â• 1</code> ‚Üí Fractal behavior is typically expected (for the 1D function, this is the condition for non-differentiability and fractal dimension &gt; 1) ‚Üí Valid fractal dimension calculation.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="-parameter-effects">üß© Parameter Effects</h2>
<table>
<thead>
<tr>
<th>Parameter Change</th>
<th>Raw View</th>
<th>Density View</th>
<th>FFT View (2D)</th>
<th>1D Plot</th>
<th>1D FFT (Stem)</th>
<th>Dimension</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>a ‚Üë</strong></td>
<td>Sharper contrasts</td>
<td>Wider distribution</td>
<td>More high-frequency energy</td>
<td>Larger amplitudes</td>
<td>Higher stems overall</td>
<td>‚Üë (0.1-0.3)</td>
</tr>
<tr>
<td><strong>b ‚Üë</strong></td>
<td>Finer details</td>
<td>More complex peaks</td>
<td>Energy shifts outward</td>
<td>More oscillations</td>
<td>Stems shift to higher frequencies</td>
<td>‚Üë (0.1-0.4)</td>
</tr>
<tr>
<td><strong>a¬∑b ‚â• 1</strong></td>
<td>Fractal patterns</td>
<td>Heavy tails</td>
<td>Power-law spectrum</td>
<td>Highly jagged</td>
<td>Clear, distinct peaks</td>
<td>Valid result</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="Ô∏è-getting-started">‚ñ∂Ô∏è Getting Started</h2>
<ul>
<li>Install requirements:</li>
</ul>
<pre><code class="language-bash">pip install numpy matplotlib numba
</code></pre>
<ul>
<li>Run the script:</li>
</ul>
<pre><code class="language-bash">python weierstrass_fractal_FFT_Box_Count.py
</code></pre>
<ul>
<li>Interact with controls:
<ul>
<li>Adjust <code>a</code> and <code>b</code> sliders.</li>
<li>Toggle visualization modes to explore different aspects (Raw, Density, FFT).</li>
<li>Click &quot;Display Box-Counting (Fractal) Dimension&quot; to compute the fractal dimension when <code>a¬∑b ‚â• 1</code>.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="-references">üìö References</h2>
<ol>
<li>Weierstrass, K. (1872). On continuous functions of a real argument that do not have a well-defined differential quotient.</li>
<li>Falconer, K. (2013). Fractal Geometry: Mathematical Foundations and Applications.</li>
<li>Mandelbrot, B. B. (1982). The Fractal Geometry of Nature.</li>
</ol>

            <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
            
        </body>
        </html>